<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Choose Your Story</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap');
  body{
    margin:0;
    background:#a8eaff;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:'Inter',sans-serif;
    overflow:hidden;
  }
  .container{
    width:90%;
    max-width:700px;
    background:rgba(255,255,255,0.75);
    padding:24px;
    border-radius:18px;
    backdrop-filter:blur(8px);
    box-shadow:0 8px 20px rgba(0,0,0,0.1);
    text-align:center;
  }
  .choice{
    margin:12px 0;
    padding:14px 20px;
    border-radius:14px;
    background:white;
    cursor:pointer;
    transition:0.2s;
    font-weight:600;
  }
  .choice:hover{
    transform:scale(1.02);
    background:#f0faff;
  }
  #text{font-size:1.1rem;margin-bottom:20px;color:#00374b}

  /* Falling leaves */
  @keyframes fall {
    0% { transform: translateY(-10vh) rotate(0deg); }
    100% { transform: translateY(110vh) rotate(360deg); }
  }
  .leaf{
    position:fixed;
    top:-10vh;
    width:24px;
    height:24px;
    background-image:url('https://i.imgur.com/PMb9H6p.png');
    background-size:contain;
    background-repeat:no-repeat;
    animation: fall linear infinite;
    opacity:0.9;
  }
</style>
</head>

<body>
<div class="container">
  <div id="text">Kamu lagi duduk, terus tiba-tiba aku nanya...</div>
  <div id="choices"></div>
</div>

<script>
/* STORY */
const story = {
  start:{
    text:"Hari ini menurutmu kita ngapain enaknya?",
    choices:[
      {label:"Jalan sore berdua", next:"sore"},
      {label:"Makan enak", next:"makan"},
      {label:"Nonton film bareng", next:"film"}
    ]
  },

  sore:{
    text:"Kita jalan sore sambil ngobrol kecil kecil... menurutmu enaknya jalan kemana?",
    choices:[
      {label:"Taman sepi", next:"lihatMuka"},
      {label:"Pinggir danau", next:"lihatMuka"}
    ]
  },

  makan:{
    text:"Kita makan enak, kamu pesen yang manis atau yang gurih?",
    choices:[
      {label:"Manis", next:"lihatMuka"},
      {label:"Gurih", next:"lihatMuka"}
    ]
  },

  film:{
    text:"Kita nonton film, genre apa nih?",
    choices:[
      {label:"Romance", next:"lihatMuka"},
      {label:"Comedy", next:"lihatMuka"}
    ]
  },

  /* BAGIAN YANG KAMU UBAH */
  lihatMuka:{
    text:"coba kamu liat muka aku...",
    choices:[
      {label:"udah liat nih", next:"spotifyChoices"}
    ]
  },

  /* PILIHAN SPOTIFY */
  spotifyChoices:{
    text:"",
    choices:[
      { label:"iyaa, aku mau beryl", link:"https://open.spotify.com/track/0WQiDwKJclirSYG9v5tayI?si=7aeace39b2e44fc1" },
      { label:"iyaa aku mau bangettt beryl", link:"https://open.spotify.com/track/0WQiDwKJclirSYG9v5tayI?si=7aeace39b2e44fc1" }
    ]
  }
};

let current = "start";
const textEl = document.getElementById("text");
const choiceBox = document.getElementById("choices");

function render(){
  const page = story[current];
  textEl.textContent = page.text;
  choiceBox.innerHTML = "";

  page.choices.forEach(c=>{
    const div=document.createElement("div");
    div.className="choice";
    div.textContent=c.label;

    if(c.link){
      div.onclick = ()=> window.location.href = c.link;
    } else {
      div.onclick = ()=>{ current=c.next; render(); }
    }

    choiceBox.appendChild(div);
  });
}

render();

/* LEAVES */
function spawnLeaf(){
  const leaf=document.createElement('div');
  leaf.className='leaf';
  leaf.style.left = Math.random()*100 + 'vw';
  leaf.style.animationDuration = (4 + Math.random()*4) + 's';
  leaf.style.transform = `rotate(${Math.random()*360}deg)`;
  document.body.appendChild(leaf);
  setTimeout(()=> leaf.remove(), 9000);
}
setInterval(spawnLeaf, 300);
</script>
</body>
</html>
